<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <meta property="og:type" content="website">
        <meta property="og:url" content="https:firstface.tk">
        <meta property="og:title" content="첫인상 테스트">
        <meta property="og:description" content="firstface">
        <meta property="og:image" content="/camera.png">
        <link rel="preconnect" href="https://fonts.gstatic.com" />
        <link href="https://fonts.googleapis.com/css2?family=Gugi&display=swap" rel="stylesheet" />
        <link rel="stylesheet" href="./style.css" type="text/css" />
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Gugi&display=swap');
        </style>

        <!-- Go to www.addthis.com/dashboard to customize your tools -->
        <script
            type="text/javascript"
            src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5fe83cc855c9168c"
        ></script>

        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
            integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="style.css" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    </head>

    <body>
        <nav class="p-3 container navbar navbar-expand-lg navbar-light">
            <a class="navbar-brand" href="https://www.youtube.com/channel/UCQNE2JmbasNYbjGAcuBiRRg"
                >도움 주신 분 : 조코딩 유튜브 채널</a
            >

            <div class="collapse navbar-collapse" id="navbarNav"></div>
        </nav>

        <div class="container youtube-cover d-flex flex-row-reverse align-items-center">
            <img src="img/youtube-copy.jpg" alt="youtube-icon" class="mt-3 youtube-icon" />
            <a href="https://www.youtube.com/channel/UCuWUnxpjmR_yBlqBzRIilUg" class="youtube-link"
                >By 김맨</a
            >
        </div>
        <h1 class="title">첫인상 테스트</h1>
        <h2 class="subtitle">나의 첫인상은 어떤 상일까?</h2>
        <h3 class="mt-2 mb-1 subtitle-2">성별을 선택하세요.</h3>

        <div class="mid">
            <label class="mb-3 rocker">
                <input type="checkbox" id="gender" checked />
                <span class="switch-left">남자</span>
                <span class="switch-right">여자</span>
            </label>
        </div>
        <div id="disqus_thread"></div>
        <script
            class="jsbin"
            src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"
        ></script>
        <div class="mt-1 container file-upload">
            <div class="image-upload-wrap">
                <input
                    class="file-upload-input"
                    type="file"
                    onchange="readURL(this);"
                    accept="image/*"
                />
                <div class="drag-text">
                    <img src="img/upload.svg" class="mt-3 pt-3 upload" />
                    <h3 class="mb-2 pb-5 pt-4 upload-text">
                        얼굴 사진을 올려놓거나 눌러서 업로드하세요!
                    </h3>
                    <h4 class="mb-2 pt-1 upload-text2">
                        사진은 어디에도 저장되지 않습니다.
                    </h4>
                </div>
            </div>
            <div class="file-upload-content">
                <img class="file-upload-image" id="face-image" src="#" alt="your image" />
                <div id="loading" class="animated bounce">
                    <div class="spinner-border" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                    <p class="text-center">과연... 당신의 첫인상은?</p>
                </div>
                <p class="result-message"></p>
                <div id="label-container" class="d-flex flex-column justify-content-around"></div>

                <!-- Go to www.addthis.com/dashboard to customize your tools -->
                <div class="addthis_inline_share_toolbox"></div>

                <div class="pt-3 image-title-wrap">
                    <button
                        type="button p-2"
                        class="try-again-btn"
                        onclick="window.location.reload();"
                    >
                        <span class="try-again-text">다른 사진으로 재시도</span>
                    </button>
                </div>
            </div>
        </div>
        <div class="add-banner">
            <ins
                class="kakao_ad_area"
                style="display: none;"
                data-ad-unit="DAN-InjqX4wYQcD32Lpt"
                data-ad-width="320"
                data-ad-height="100"
            ></ins>
            <ins
                class="kakao_ad_area"
                style="display: none;"
                data-ad-unit="DAN-y1sZGRJZtFUoPzMw"
                data-ad-width="320"
                data-ad-height="100"
            ></ins>
            <ins
                class="kakao_ad_area"
                style="display: none;"
                data-ad-unit="DAN-1ZAfpOHWb9osjnXM"
                data-ad-width="320"
                data-ad-height="100"
            ></ins>
        </div>

        <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
        <footer class="footer pt-5 container d-flex justify-content-center">
            <div>
                <p>&copy; 김맨 kimman 2021. All Rights Reserved.</p>
            </div>
        </footer>

        <script>
            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
                    reader.onload = function (e) {
                        $('.image-upload-wrap').hide();
                        $('#loading').show();
                        $('.file-upload-image').attr('src', e.target.result);
                        $('.file-upload-content').show();
                        $('.image-title').html(input.files[0].name);
                    };
                    reader.readAsDataURL(input.files[0]);
                    init().then(function () {
                        console.log('hello');
                        predict();
                        $('#loading').hide();
                    });
                } else {
                    removeUpload();
                }
            }

            function removeUpload() {
                $('.file-upload-input').replaceWith($('.file-upload-input').clone());
                $('.file-upload-content').hide();
                $('.image-upload-wrap').show();
            }
            $('.image-upload-wrap').bind('dragover', function () {
                $('.image-upload-wrap').addClass('image-dropping');
            });
            $('.image-upload-wrap').bind('dragleave', function () {
                $('.image-upload-wrap').removeClass('image-dropping');
            });
        </script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
        <script type="text/javascript">
            let URL;
            const urlFeMale = 'https://teachablemachine.withgoogle.com/models/3TPjY-wn-/';
            const urlMale = 'https://teachablemachine.withgoogle.com/models/Z5iLsISwF/';
            let model, webcam, labelContainer, maxPredictions;
            async function init() {
                if (document.getElementById('gender').checked) {
                    URL = urlMale;
                } else {
                    URL = urlFeMale;
                }
                const modelURL = URL + 'model.json';
                const metadataURL = URL + 'metadata.json';
                model = await tmImage.load(modelURL, metadataURL);
                maxPredictions = model.getTotalClasses();
                labelContainer = document.getElementById('label-container');
                for (let i = 0; i < maxPredictions; i++) {
                    var element = document.createElement('div');
                    element.classList.add('d-flex');
                    labelContainer.appendChild(element);
                }
            }
            async function predict() {
                var image = document.getElementById('face-image');
                const prediction = await model.predict(image, false);
                prediction.sort((a, b) => parseFloat(b.probability) - parseFloat(a.probability));
                console.log(prediction[0].className);
                var resultTitle, resultExplain, resultNumber;
                if (document.getElementById('gender').checked) {
                    switch (prediction[0].className) {
                        case '걸어다니는 다비드 남신상':
                            resultTitle = '걸어다니는 다비드 남신상';
                            resultExplain =
                                '특별히 노력하지 않아도 주변 사람들을 웃게 하는 당신은 걸어 다니는 인간 조각상이네요!　과하게 꾸미지 말고 기본에만 충실해도 당신의 얼굴은 본인과 주변 사람들에게 기쁨을 줄 거예요.　약간의 애교와 눈웃음은 당신의 외모를 더 돋보이게 해줄 뿐만 아니라 당신의 기분도 좋아질 거예요.　자~ 스마일! "ㅡ".　아! 그리고 당신은 축복받은 얼굴이므로 부모님이나 조상님께 감사의 마음을 전해보세요.　한 번 더 Smile! "ㅡ"';
                            resultNumber =
                                '지금 이 순간 당신의 소울 넘버 =  ' +
                                Math.floor(Math.random() * 45 + 1);
                            break;
                        case '상견례 200% 프리패스상':
                            resultTitle = '상견례 200% 프리패스상';
                            resultExplain =
                                '보기만 해도 무한 신뢰를 줄 것 같은 당신은 지금 당장 상견례를 해도 프리 패스군요!　유행을 과하게 따라 하지 않는 깔끔하고 단정한 코디는 당신의 외모를 더욱 빛나게 해줄 거예요.　당신의 장점이 되는 부분을 더욱 관리하고 드러내면 주변 사람은 당신에게 신뢰를 줄 거예요.　아! 그리고 혹시 단점이 있다면 크게 신경 쓰지 않아도 돼요.　아예 신경 쓰지도 마세요.　당신의 신뢰감 있는 외모는 단점을 충분히 커버하고도 남으니까요.　Get lucky!';
                            resultNumber =
                                '지금 이 순간 당신의 소울 넘버 =  ' +
                                Math.floor(Math.random() * 45 + 1);
                            break;
                        case '따뜻한 행복을 주는 햇빛상':
                            resultTitle = '따뜻한 행복을 주는 햇빛상';
                            resultExplain =
                                '오늘도 당신의 고마운 따뜻함 덕분에 기분이 좋아지는 하루네요!　햇빛 같은 당신은 주변 사람들을 편안하게 해주는 사람이에요.　사람들과의 조화로운 분위기에 어울리는 코디를 해 보는 것도 추천할게요.　선하고 따뜻한 에너지는 당신의 삶에서 큰 장점이 될 것 같아요.　선한 영향력을 지닌 당신은 시간이 지날수록 매력이 쌓이고 더 행복한 삶을 살 거예요.　온화한 눈빛과 미소로 주변을 따뜻하게 밝혀주세요.　오늘도 Thank you ! "ㅡ"';
                            resultNumber =
                                '지금 이 순간 당신의 소울 넘버 =  ' +
                                Math.floor(Math.random() * 45 + 1);
                            break;
                        case '비글비글 애교 폭탄 귀염상':
                            resultTitle = '비글비글 애교 폭탄 귀염상';
                            resultExplain =
                                '유쾌하고 즐거운 에너지를 내뿜는 행복 바이러스 귀염둥이 시네요!　밝은 에너지를 가진 당신 덕분에 주변 사람들은 오늘의 스트레스를 잠시 잊을 수 있을 거예요.　당신과 주변 사람들을 위해 자신이 하고 싶은 일이나 하고 싶은 코디를 마음껏 해봐도 좋을 것 같아요.　너무 과한 언행은 사람을 피곤하게 할 수도 있지만 당신의 긍정적인 에너지로 충분히 재미있는 세상을 만들 수 있을 거예요.　이렇게 귀여운 것도 재능이에요.　Be happy ! "ㅡ"';
                            resultNumber =
                                '지금 이 순간 당신의 소울 넘버 =  ' +
                                Math.floor(Math.random() * 45 + 1);
                            break;
                        default:
                            resultTitle = '알수없음';
                            resultExplain = '';
                            resultNumber = '';
                    }
                } else {
                    switch (prediction[0].className) {
                        case '비너스가 90도 인사 할 여신상':
                            resultTitle = '비너스가 90도 인사 할 여신상';
                            resultExplain =
                                '안 본 사람은 있어도 한 번만 본 사람은 없다는 당신은 비너스를 능가할 여신이시네요!　길을 걷다가 뒤통수가 찌릿하다면 당신의 매력에 빠진 누군가의 눈빛 때문일 거예요.　외모에 큰 변화를 주기보다 기본에 충실하되 아주 작은 포인트를 준다면 당신의 매력 포인트는 더욱 상승할 거예요.　혹시나 자신의 외모가 지루해질 때가 있으면, 거울을 보고 한 마디 하세요. "오늘도 고마워."　외모도 능력인 거 알죠?　당신의 능력을 맘껏 펼치세요!　Be lovely! "ㅡ"';
                            resultNumber =
                                '지금 이 순간 당신의 소울 넘버 =  ' +
                                Math.floor(Math.random() * 45 + 1);
                            break;
                        case '상견례 200% 프리패스상':
                            resultTitle = '상견례 200% 프리패스상';
                            resultExplain =
                                '보기만 해도 무한 신뢰를 줄 것 같은 당신은 지금 당장 상견례를 해도 프리 패스군요! 　유행을 과하게 따라 하지 않는 깔끔하고 단정한 코디는 당신의 외모를 더욱 빛나게 해줄 거예요. 　당신의 장점이 되는 부분을 더욱 관리하고 드러내면 주변 사람은 당신에게 신뢰를 줄 거예요. 　아! 그리고 혹시 단점이 있다면 크게 신경 쓰지 않아도 돼요. 　아예 신경 쓰지도 마세요. 　당신의 신뢰감 있는 외모는 단점을 충분히 커버하고도 남으니까요. 　Get lucky!';
                            resultNumber =
                                '지금 이 순간 당신의 소울 넘버 =  ' +
                                Math.floor(Math.random() * 45 + 1);
                            break;
                        case '따뜻한 행복을 주는 햇빛상':
                            resultTitle = '따뜻한 행복을 주는 햇빛상';
                            resultExplain =
                                '오늘도 당신의 고마운 따뜻함 덕분에 기분이 좋아지는 하루네요!　햇빛 같은 당신은 주변 사람들을 편안하게 해주는 사람이에요.　사람들과의 조화로운 분위기에 어울리는 코디를 해 보는 것도 추천할게요.　선하고 따뜻한 에너지는 당신의 삶에서 큰 장점이 될 것 같아요.　선한 영향력을 지닌 당신은 시간이 지날수록 매력이 쌓이고 더 행복한 삶을 살 거예요.　온화한 눈빛과 미소로 주변을 따뜻하게 밝혀주세요.　오늘도 Thank you ! "ㅡ"';
                            resultNumber =
                                '지금 이 순간 당신의 소울 넘버 =  ' +
                                Math.floor(Math.random() * 45 + 1);
                            break;
                        case '상큼 폭발 인간 과일 귀염상':
                            resultTitle = '상큼 폭발 인간 과일 귀염상';
                            resultExplain =
                                '유쾌하고 즐거운 에너지를 내뿜는 과즙 뿜뿜 인간 과일이시네요!　밝은 에너지를 가진 당신 덕분에 주변 사람들은 오늘의 스트레스를 잠시 잊을 수 있을 거예요.　당신과 주변 사람들을 위해 자신이 하고 싶은 일이나 하고 싶은 코디를 마음껏 해봐도 좋을 것 같아요.　너무 과한 언행은 사람을 피곤하게 할 수도 있지만 당신의 긍정적인 에너지로 충분히 재미있는 세상을 만들 수 있을 거예요.　이렇게 귀여운 것도 재능이에요.　Be happy ! "ㅡ"';
                            resultNumber =
                                '지금 이 순간 당신의 소울 넘버 =  ' +
                                Math.floor(Math.random() * 45 + 1);
                            break;
                        default:
                            resultTitle = '알수없음';
                            resultExplain = '';
                            resultNumber = '';
                    }
                }
                var title =
                    "<div class='" +
                    prediction[0].className +
                    "-face-title'>" +
                    resultTitle +
                    '</div>';
                var explain = "<div class='face-explain pt-2'>" + resultExplain + '</div>';
                var number =
                    "<div class='" +
                    prediction[0].className +
                    "-face-number pt-2 pb-2'>" +
                    resultNumber +
                    '</div>';
                $('.result-message').html(title + explain + number);
                var barWidth;
                for (let i = 0; i < maxPredictions; i++) {
                    if (prediction[i].probability.toFixed(2) > 0.1) {
                        barWidth = Math.round(prediction[i].probability.toFixed(2) * 100) + '%';
                    } else if (prediction[i].probability.toFixed(2) >= 0.01) {
                        barWidth = '4%';
                    } else {
                        barWidth = '2%';
                    }
                    var labelTitle;
                    switch (prediction[i].className) {
                        case '걸어다니는 다비드 남신상':
                            labelTitle = '남신상';
                            break;
                        case '따뜻한 행복을 주는 햇빛상':
                            labelTitle = '햇빛상';
                            break;
                        case '비글비글 애교 폭탄 귀염상':
                            labelTitle = '귀염상';
                            break;
                        case '비너스가 90도 인사 할 여신상':
                            labelTitle = '여신상';
                            break;
                        case '상큼 폭발 인간 과일 귀염상':
                            labelTitle = '귀염상';
                            break;
                        case '상견례 200% 프리패스상':
                            labelTitle = '상견례상';
                            break;
                    }
                    var label =
                        "<div class='face-label d-flex align-items-center'>" +
                        labelTitle +
                        '</div>';
                    var bar =
                        "<div class='bar-container position-relative container'><div class='" +
                        prediction[i].className +
                        "-box'></div><div class='d-flex justify-content-center align-items-center " +
                        prediction[i].className +
                        "-bar' style='width: " +
                        barWidth +
                        "'><span class='d-block percent-text'>" +
                        Math.round(prediction[i].probability.toFixed(2) * 100) +
                        '%</span></div></div>';
                    labelContainer.childNodes[i].innerHTML = label + bar;
                }
            }
        </script>
    </body>

    <!--
Copyright (c) 2020 by Marcus Connor (https://codepen.io/marcusconnor/pen/QJNvMa)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
--!>


    <!-- 
image input box
Copyright (c) 2020 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

gender toggle
Copyright (c) 2020 by Mert Cukuren (https://codepen.io/knyttneve/pen/bPpEZY)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 -->
</html>